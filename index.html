<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Papara Altın Yatırımı</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Poppins:wght@600&display=swap');

  :root {
    --papara-purple: #6E2FD3;
    --papara-gold: #FFD700;
    --papara-light: #F5F5F5;
    --papara-brown: #8B4513; /* A rich brown color */
    --background-overlay: rgba(255, 255, 255, 0.7);
}


        body, html {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    font-family: 'Roboto', sans-serif;
    background-color: var(--papara-light);
}

#game-container {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
}

#game-area {
    width: 90%;
    max-width: 400px;
    aspect-ratio: 9 / 16;
    position: relative;
    background: url('https://storage.googleapis.com/handler-reflections/miner-bg.png') no-repeat center center;
    background-size: cover;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    overflow: hidden;
    transform-origin: center center;
}

#miner {
    width: 40%;
    aspect-ratio: 1;
    position: absolute;
    bottom: 20%;
    left: 10%;
    background: url('https://storage.googleapis.com/handler-reflections/miner-rhold.png') no-repeat;
    background-size: contain;
    transition: all 0.3s ease;
}

#rock {
    width: 40%;
    aspect-ratio: 1;
    position: absolute;
    bottom: 20%;
    right: 10%;
    background: url('https://storage.googleapis.com/handler-reflections/stone-1.png') no-repeat;
    background-size: contain;
    transition: all 0.3s ease;
}

#chest {
    width: 45%;
    aspect-ratio: 1;
    position: absolute;
    bottom: 25%;
    right: 15%;
    background: url('https://storage.googleapis.com/handler-reflections/miner-chest.png') no-repeat;
    background-size: contain;
    display: none;
}

#tap-text {
    position: absolute;
    top: 30%;
    left: 50%;
    transform: translateX(-50%);
    font-size: 24px;
    font-family: 'Poppins', sans-serif;
    color: var(--papara-gold);
    background-color: var(--papara-brown);
    padding: 5px 15px;
    border-radius: 10px;
    text-shadow: var(--text-shadow);
    animation: pulse 1s infinite;
    text-align: center;
}

#hand-icon {
    width: 20%;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: url('https://storage.googleapis.com/handler-reflections/hand.png') no-repeat center center;
    background-size: contain;
    z-index: 4;
    animation: scaleUp 1s infinite;
}

#arrow-hint {
    width: 20%;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: url('https://storage.googleapis.com/handler-reflections/hand.png') no-repeat center center;
    background-size: contain;
    z-index: 4;
    animation: scaleUp 1s infinite;
}

#cta {
    position: fixed;
    top: 40%;
    left: 7%;
    width: 80%;
    max-width: 500px;
    background-color: var(--papara-purple);
    border-radius: 15px;
    text-align: center;
    display: none;
    box-shadow: 0 5px 15px rgba(110, 47, 211, 0.3);
    z-index: 1000;
}

#cta h2 {
    color: var(--papara-light);
    font-family: 'Poppins', sans-serif;
    font-size: 18px;
    margin-bottom: 15px;
}

#invest-btn {
    background-color: var(--papara-gold);
    border: none;
    color: var(--papara-purple);
    padding: 12px 24px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    font-weight: bold;
    margin: 4px 2px;
    cursor: pointer;
    border-radius: 50px;
    transition: all 0.3s ease;
    font-family: 'Roboto', sans-serif;
}

#invest-btn:hover {
    background-color: #FFE55C;
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}

#score {
    position: absolute;
    top: 20px;
    right: 20px;
    font-size: 24px;
    font-weight: bold;
    color: var(--papara-purple);
    text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
    background-color: var(--background-overlay);
    padding: 5px 10px;
    border-radius: 10px;
}

#papara-logo {
    position: absolute;
    top: 10%;
    left: 10%;
    width: 100px;
    display: none;
    background-color: var(--background-overlay);
    padding: 5px 10px;
    border-radius: 10px;
}

.particle {
    position: absolute;
    background-color: var(--papara-gold);
    border-radius: 50%;
    pointer-events: none;
}

@keyframes pulse {
    0% { transform: translateX(-50%) scale(1); }
    50% { transform: translateX(-50%) scale(1.05); }
    100% { transform: translateX(-50%) scale(1); }
}

@keyframes bounce {
    0%, 100% { transform: translateX(-50%) translateY(0); }
    50% { transform: translateX(-50%) translateY(-20px); }
}

@media (max-width: 600px) {
    #tap-text {
        font-size: 28px;
    }
    #arrow-hint {
        font-size: 36px;
    }
}

@media (max-width: 425px) {
    #game-area {
        width: 100%;
        max-width: 350px;
        aspect-ratio: 9 / 16;
        transform: scale(1); /* Reset any scaling */
        margin: 0 auto; /* Center the game area */
    }
}



        }
    </style>
</head>
<body>
    <div id="game-container">
        <div id="game-area">
            <div id="miner"></div>
            <div id="rock"></div>
            <div id="chest"></div>
            <div id="tap-text">Tıkla!</div>
  <div id="hand-icon"></div>
            <div id="score">Altın: 0</div>
            <img id="papara-logo" src="https://storage.googleapis.com/handler-reflections/papara-logo.png" alt="Papara Logo">
        </div>
    </div>
    <div id="cta">
        <h2>Papara'da Altın Hesabı Açmak İşte Bu Kadar Kolay!</h2>
        <button id="invest-btn">Hemen Yatırım Yap</button>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script>
        const gameContainer = document.getElementById('game-container');
        const gameArea = document.getElementById('game-area');
        const miner = document.getElementById('miner');
        const rock = document.getElementById('rock');
        const chest = document.getElementById('chest');
        const tapText = document.getElementById('tap-text');
        const arrowHint = document.getElementById('arrow-hint');
        const cta = document.getElementById('cta');
        const handIcon = document.getElementById('hand-icon');

        const investBtn = document.getElementById('invest-btn');
        const scoreElement = document.getElementById('score');
        const paparaLogo = document.getElementById('papara-logo');

        let hitCount = 0;
        let score = 0;
        const MAX_HITS = 3;

        gameArea.addEventListener('click', handleTap);

        function handleTap() {
            if (hitCount >= MAX_HITS) return;

            hitCount++;
            score += 10;
            updateScore();
            animateMiner();
            animateRockHit();
            updateRockAppearance();
            createParticles();

            if (hitCount === 1) {
                tapText.textContent = "DEVAM ET!";
               
            } else if (hitCount === 2) {
                tapText.textContent = "SON BİR DARBE!";
            } else if (hitCount === MAX_HITS) {
                revealTreasure();
            }
        }

        function animateMiner() {
            miner.style.backgroundImage = "url('https://storage.googleapis.com/handler-reflections/miner-rhit.png')";
            anime({
                targets: miner,
                scale: [1, 1.1],
                duration: 200,
                direction: 'alternate',
                easing: 'easeInOutQuad',
                complete: () => {
                    miner.style.backgroundImage = "url('https://storage.googleapis.com/handler-reflections/miner-rhold.png')";
                }
            });
        }

        function animateRockHit() {
            anime({
                targets: rock,
                scale: [1, 0.9, 1],
                rotate: [0, 5, -5, 0],
                duration: 300,
                easing: 'easeOutElastic(1, 0.5)'
            });

            rock.style.filter = 'brightness(150%) saturate(150%)';
            setTimeout(() => rock.style.filter = '', 100);
        }

        function updateRockAppearance() {
            const rockTextures = [
                'https://storage.googleapis.com/handler-reflections/stone-1.png',
                'https://storage.googleapis.com/handler-reflections/stone-2.png',
                'https://storage.googleapis.com/handler-reflections/stone-3.png'
            ];
            rock.style.backgroundImage = `url('${rockTextures[hitCount - 1]}')`;
        }

        function revealTreasure() {
            rock.style.display = 'none';
            chest.style.display = 'block';
            tapText.style.display = 'none';

            miner.style.backgroundImage = "url('https://storage.googleapis.com/handler-reflections/miner-celeb.png')";

            anime({
                targets: chest,
                scale: [0, 1],
                opacity: [0, 1],
                duration: 1000,
                easing: 'easeOutElastic(1, .8)'
            });

            anime({
                targets: miner,
                translateY: '-10%',
                scale: 1.2,
                duration: 1000,
                easing: 'easeOutQuad'
            });

            setTimeout(() => {
                chest.style.backgroundImage = "url('https://storage.googleapis.com/handler-reflections/miner-chest.png')";
                createCelebrationParticles();
                celebrationLoop();
                pulseMiner();
                paparaLogo.style.display = 'block';
            }, 500);

            setTimeout(showCTA, 1500);
        }

        function showCTA() {
            cta.style.display = 'block';

            anime({
                targets: cta,
                opacity: [0, 1],
                scale: [0.9, 1],
                duration: 1000,
                easing: 'easeOutQuad'
            });
        }

        function createParticles() {
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                particle.style.width = Math.random() * 10 + 5 + 'px';
                particle.style.height = particle.style.width;
                particle.style.left = rock.offsetLeft + Math.random() * rock.offsetWidth + 'px';
                particle.style.top = rock.offsetTop + Math.random() * rock.offsetHeight + 'px';
                
                gameArea.appendChild(particle);
                
                anime({
                    targets: particle,
                    translateX: anime.random(-100, 100),
                    translateY: anime.random(-100, 100),
                    scale: [1, 0],
                    opacity: [1, 0],
                    duration: 1000,
                    easing: 'easeOutQuad',
                    complete: () => {
                        gameArea.removeChild(particle);
                    }
                });
            }
        }

        function createCelebrationParticles() {
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                particle.style.width = Math.random() * 15 + 5 + 'px';
                particle.style.height = particle.style.width;
                particle.style.left = miner.offsetLeft + Math.random() * miner.offsetWidth + 'px';
                particle.style.top = miner.offsetTop + Math.random() * miner.offsetHeight + 'px';
                
                gameArea.appendChild(particle);
                
                anime({
                    targets: particle,
                    translateX: anime.random(-200, 200),
                    translateY: anime.random(-200, 200),
                    scale: [1, 0],
                    opacity: [1, 0],
                    duration: 2000,
                    easing: 'easeOutQuad',
                    complete: () => {
                        gameArea.removeChild(particle);
                    }
                });
            }
        }

        function celebrationLoop() {
            createCelebrationParticles();
            setTimeout(celebrationLoop, 3000);
        }

        function pulseMiner() {
            anime({
                targets: miner,
                scale: [1.2, 1.3],
                duration: 800,
                direction: 'alternate',
                easing: 'easeInOutQuad',
                complete: pulseMiner
            });
        }

        function updateScore() {
            scoreElement.textContent = `Altın: ${score}`;
            anime({
                targets: scoreElement,
                scale: [1, 1.2, 1],
                duration: 300,
                easing: 'easeInOutQuad'
            });
        }

        investBtn.addEventListener('click', () => {
            window.location.href = 'https://apps.apple.com/tr/app/papara/id1146507477';
        });

        function resizeGame() {
            const containerWidth = gameContainer.clientWidth;
            const containerHeight = gameContainer.clientHeight;
            const gameAreaRatio = 9 / 16;
            let scaleFactor;

            if (containerWidth / containerHeight > gameAreaRatio) {
                scaleFactor = containerHeight / (400 * gameAreaRatio);
            } else {
                scaleFactor = containerWidth / 400;
            }
            
            gameArea.style.transform = `scale(${scaleFactor})`;
   anime({
            targets: handIcon,
            translateY: 20,
            duration: 1000,
            direction: 'alternate',
            loop: true,
            easing: 'easeInOutQuad'
        });
        }

        window.addEventListener('resize', resizeGame);
        resizeGame();

   
    </script>
</body>
</html>